# Decentralized Control (분산제어)

## 1. 개요 및 배경

분산제어는 대규모 복합 시스템을 여러 개의 독립적인 서브시스템으로 분해하여 각각을 독립적으로 제어하는 방법입니다. 1970년대 대규모 전력 시스템과 화학 공정 제어에서 시작되어, 현재는 다중 로봇 시스템, 스마트 그리드, 자율주행 차량 등 다양한 분야에서 활용됩니다.

### 1.1 기본 개념

분산제어의 핵심 아이디어:
1. **시스템 분해**: 대규모 시스템을 관리 가능한 서브시스템으로 분할
2. **독립 제어**: 각 서브시스템에 대한 개별 제어기 설계
3. **정보 제한**: 지역 정보만을 이용한 의사결정
4. **확장성**: 시스템 규모 증가에 대한 적응성

### 1.2 집중제어 vs 분산제어

**집중제어 (Centralized Control)**:
- 모든 정보를 중앙에서 처리
- 전역 최적화 가능
- 통신 부하 및 계산 복잡도 높음
- 단일 실패점 존재

**분산제어 (Decentralized Control)**:
- 지역 정보만 활용
- 부분 최적화
- 낮은 통신 요구량
- 강인성과 확장성

### 1.3 적용 조건

**적합한 시스템**:
1. **약한 결합**: 서브시스템 간 상호작용이 제한적
2. **지역성**: 지역 정보로 효과적 제어 가능
3. **규모성**: 집중제어가 비실용적인 대규모 시스템
4. **분산성**: 물리적으로 분산된 구조

### 1.4 로봇 제어에서의 중요성

- **다중 로봇 시스템**: 로봇 간 독립적 제어
- **모듈러 로봇**: 모듈별 분산 제어
- **대형 매니퓰레이터**: 관절별 독립 제어
- **네트워크 로봇**: 통신 제약 하에서의 제어
## 2. 수학적 기초

### 2.1 시스템 모델

**대규모 선형 시스템**:
$$\dot{x} = Ax + Bu$$

**분해된 형태**:
$$\begin{bmatrix} \dot{x}_1 \\ \dot{x}_2 \\ \vdots \\ \dot{x}_N \end{bmatrix} = \begin{bmatrix} A_{11} & A_{12} & \cdots & A_{1N} \\ A_{21} & A_{22} & \cdots & A_{2N} \\ \vdots & \vdots & \ddots & \vdots \\ A_{N1} & A_{N2} & \cdots & A_{NN} \end{bmatrix} \begin{bmatrix} x_1 \\ x_2 \\ \vdots \\ x_N \end{bmatrix} + \begin{bmatrix} B_1 & 0 & \cdots & 0 \\ 0 & B_2 & \cdots & 0 \\ \vdots & \vdots & \ddots & \vdots \\ 0 & 0 & \cdots & B_N \end{bmatrix} \begin{bmatrix} u_1 \\ u_2 \\ \vdots \\ u_N \end{bmatrix}$$

**i번째 서브시스템**:
$$\dot{x}_i = A_{ii}x_i + B_i u_i + \sum_{j \neq i} A_{ij}x_j$$

### 2.2 상호연결 구조

**상호연결 항**:
$$w_i = \sum_{j \neq i} A_{ij}x_j$$

**결합 강도**:
$$\alpha_{ij} = \|A_{ij}\|$$

**시스템 그래프**: G = (V, E)
- V: 서브시스템 집합 {1, 2, ..., N}
- E: 상호연결 관계

### 2.3 분산 제어기 구조

**i번째 지역 제어기**:
$$u_i = K_i x_i + v_i$$

**분산 제어 법칙**:
$$u_i = -K_i x_i$$

**허용 가능한 제어기**: 오직 지역 상태 정보만 사용
$$u_i = f_i(x_i, r_i, t)$$

### 2.4 폐루프 시스템

**분산 피드백**:
$$\dot{x}_i = (A_{ii} - B_i K_i)x_i + \sum_{j \neq i} A_{ij}x_j$$

**전체 시스템**:
$$\dot{x} = (A - BK_d)x$$

여기서 $K_d = \text{blkdiag}(K_1, K_2, \ldots, K_N)$
## 3. 분해 방법론

### 3.1 물리적 분해

**공간적 분해**: 물리적 위치 기반
- 로봇 관절별 분리
- 지역별 다중 로봇
- 기능별 모듈 분해

**시간적 분해**: 시간 스케일 기반
- 빠른 동역학 vs 느린 동역학
- 계층적 제어 구조

### 3.2 수학적 분해

**모달 분해**: 고유모드 기반
$$x = \Phi z$$

여기서 Φ는 모달 행렬, z는 모달 좌표

**주파수 분해**: 주파수 대역 분리
- 저주파수: 저속 제어
- 고주파수: 고속 제어

### 3.3 그래프 이론적 분해

**최소 절단**: 최소 연결 제거로 분해
$$\min \sum_{(i,j) \in E} w_{ij} \cdot c_{ij}$$

**스펙트럴 분할**: 라플라시안 행렬의 고유벡터 이용
$$L = D - A$$

여기서:
- D: 차수 행렬 (degree matrix)
- A: 인접 행렬 (adjacency matrix)

**커뮤니티 탐지**: 모듈성(modularity) 최대화
$$Q = \frac{1}{2m} \sum_{ij} \left( A_{ij} - \frac{k_i k_j}{2m} \right) \delta(c_i, c_j)$$

### 3.4 제어 이론적 분해

**제어 가능성 분해**: 제어 가능/불가능 부분 분리
$$x = \begin{bmatrix} x_c \\ x_{nc} \end{bmatrix}$$

**관측 가능성 분해**: 관측 가능/불가능 부분 분리
$$x = \begin{bmatrix} x_o \\ x_{no} \end{bmatrix}$$

**Kalman 분해**: 4개 부분으로 완전 분해
- $(x_{co}, x_{c\bar{o}}, x_{\bar{c}o}, x_{\bar{c}\bar{o}})$
## 4. 로봇 제어 적용

### 4.1 다관절 로봇 매니퓰레이터

**로봇 동역학 분해**:
$$M(q)\ddot{q} + C(q,\dot{q})\dot{q} + G(q) = \tau$$

**관절별 분해**:
$$m_i(q)\ddot{q}_i + c_i(q,\dot{q}) + g_i(q) = \tau_i + d_i$$

여기서 $d_i$는 다른 관절로부터의 결합 항

**분산 제어기 설계**:
$$\tau_i = k_{p,i}(q_{d,i} - q_i) + k_{d,i}(\dot{q}_{d,i} - \dot{q}_i) + \hat{g}_i(q)$$

### 4.2 다중 로봇 시스템

**i번째 로봇의 동역학**:
$$M_i(q_i)\ddot{q}_i + C_i(q_i,\dot{q}_i)\dot{q}_i + G_i(q_i) = \tau_i$$

**상호작용력**: 로봇 간 물리적 연결이 있는 경우
$$f_{ij} = k_{ij}(x_i - x_j - d_{ij})$$

**분산 형성 제어**:
$$u_i = -k_p \sum_{j \in N_i} (x_i - x_j - d_{ij}) - k_d \dot{x}_i$$

### 4.3 모듈러 로봇

**모듈 동역학**:
각 모듈이 독립적인 액추에이터와 센서 보유

**분산 보행 제어**:
$$\phi_i = \phi_{i-1} + \Delta\phi$$

**중앙 패턴 생성기 (CPG) 기반**:
$$\ddot{\theta}_i + 2\zeta\omega\dot{\theta}_i + \omega^2\theta_i = \omega^2 r_i \sin(\phi_i)$$

### 4.4 유연 관절 로봇

**2질량 모델**:
$$\begin{align}
J_m \ddot{\theta}_m &= \tau - k(\theta_m - \theta_l) \\
J_l \ddot{\theta}_l &= k(\theta_m - \theta_l) - \tau_l
\end{align}$$

**분산 제어 구조**:
- 모터측 제어기: 위치/속도 제어
- 링크측 제어기: 강성 보상

**Singular Perturbation 접근**:
빠른 모터 동역학과 느린 링크 동역학 분리
## 5. 안정성 분석

### 5.1 연결 안정성 (Connective Stability)

**분해된 시스템**:
$$\dot{x}_i = A_i x_i + \sum_{j \neq i} A_{ij} x_j + B_i u_i$$

**분산 제어기**:
$$u_i = -K_i x_i$$

**연결 안정성 조건**: 
모든 격리된 서브시스템이 안정하고, 상호연결이 충분히 약하면 전체 시스템 안정

### 5.2 Lyapunov 접근법

**복합 Lyapunov 함수**:
$$V(x) = \sum_{i=1}^N V_i(x_i)$$

**각 서브시스템**: $V_i(x_i) > 0$, $\dot{V}_i \leq -\alpha_i \|x_i\|^2$

**상호연결 조건**:
$$\sum_{i=1}^N \sum_{j \neq i} \frac{\partial V_i}{\partial x_i} A_{ij} x_j \leq -\beta \|x\|^2$$

### 5.3 M-행렬 이론

**비교 시스템**:
$$\dot{w}_i = -q_i w_i + \sum_{j \neq i} r_{ij} w_j$$

**M-행렬**: $M = [m_{ij}]$
- $m_{ii} = q_i > 0$
- $m_{ij} = -r_{ij} \leq 0$ (i ≠ j)

**안정성 조건**: M이 M-행렬이면 안정

### 5.4 입출력 안정성

**Small Gain 정리**:
상호연결 gain이 1보다 작으면 안정

**i번째 서브시스템**: 
$$\|y_i\| \leq \gamma_i \|u_i\| + \beta_i$$

**연결 gain**:
$$\prod_{i=1}^N \gamma_i < 1$$

### 5.5 Passivity 기반 안정성

**각 서브시스템이 passive**:
$$\int_0^T u_i^T y_i dt \geq -\gamma_i$$

**상호연결이 passive**: 
$$\sum_{i=1}^N \int_0^T u_i^T y_i dt \geq 0$$

**전체 시스템 안정성**: 보장됨
## 6. 성능 분석

### 6.1 최적성 손실

**집중 최적 제어**:
$$J^* = \min_u \int_0^\infty (x^T Q x + u^T R u) dt$$

**분산 제어 성능**:
$$J_d = \int_0^\infty (x^T Q x + u_d^T R u_d) dt$$

**성능 저하**: $J_d - J^* \geq 0$

**상계 추정**:
$$\frac{J_d - J^*}{J^*} \leq f(\text{interconnection strength})$$

### 6.2 구조적 제약

**정보 구조**: $\mathcal{S} = \{K : K_{ij} = 0 \text{ if } (i,j) \notin \mathcal{E}\}$

**구조적 최적 제어**:
$$\min_{K \in \mathcal{S}} J(K)$$

**분산성의 대가**: 구조 제약으로 인한 성능 손실 불가피

### 6.3 근사 분해

**고주파수 근사**: 빠른 동역학 무시
$$\epsilon \dot{x}_f = f_f(x_f, x_s) \rightarrow 0 = f_f(x_f, x_s)$$

**특이 섭동 이론**: 
- $\epsilon \rightarrow 0$: 분산 제어 정확
- $\epsilon$ 증가: 성능 저하

**오차 분석**:
$$\|x(t) - x_d(t)\| = O(\epsilon)$$

### 6.4 통신 지연 영향

**지연 시스템**:
$$\dot{x}_i = A_i x_i + \sum_{j \neq i} A_{ij} x_j(t - \tau_{ij}) + B_i u_i$$

**안정성 조건**: 지연이 작을 때
$$\tau_{max} < \tau_{critical}$$

**성능 저하**: 지연에 비례하여 증가

### 6.5 강인성 분석

**모델 불확실성**:
$$\dot{x}_i = (A_i + \Delta A_i) x_i + \sum_{j \neq i} (A_{ij} + \Delta A_{ij}) x_j + B_i u_i$$

**구조화된 불확실성**: 각 서브시스템별 독립적 불확실성

**비구조화된 불확실성**: 상호연결 항의 불확실성

**강인 안정성**: Small Gain 정리 확장
$$\max_i \{\sigma_{\max}(\Delta_i)\} < \gamma_{critical}$$
## 7. 실제 응용

### 7.1 제조업 로봇

**자동차 조립 라인**:
- 여러 로봇의 동기화된 작업
- 각 로봇의 독립적 제어
- 라인 전체 성능 최적화

**분산 제어 구조**:
$$u_i = K_i e_i + \sum_{j \in N_i} w_{ij} (x_j - x_i)$$

**동기화 제어**: 인접 로봇과의 위상 동기화

### 7.2 창고 자동화

**다중 AGV (Automated Guided Vehicle)**:
- 개별 AGV의 경로 추종
- 충돌 회피 및 교통 제어
- 분산 경로 계획

**합의 알고리즘**:
$$\dot{x}_i = \sum_{j \in N_i} a_{ij}(x_j - x_i)$$

**형성 제어**: 원하는 형태 유지하며 이동

### 7.3 우주 로봇

**위성 클러스터**:
- 각 위성의 독립적 자세 제어
- 상대 위치 유지
- 통신 지연 고려

**분산 자세 제어**:
$$\tau_i = -K_{p,i} q_i - K_{d,i} \omega_i + \sum_{j \in N_i} k_{ij}(q_j - q_i)$$

### 7.4 수중 로봇

**AUV 군집**:
- 해양 탐사 및 모니터링
- 수중 통신 제약
- 분산 협조 제어

**음향 통신 고려**:
- 낮은 대역폭
- 높은 지연
- 불안정한 연결

### 7.5 농업 로봇

**스마트 팜**:
- 다중 농업 로봇 협조
- 작물별 개별 관리
- 분산 센싱 및 제어

**역할 분담**:
- 파종 로봇
- 물주기 로봇  
- 수확 로봇
- 모니터링 드론

### 7.6 의료 로봇

**수술 로봇 시스템**:
- 주 수술 로봇 + 보조 로봇들
- 각각의 독립적 제어
- 안전성 최우선

**분산 안전 시스템**:
- 각 로봇의 독립적 안전 감시
- 비상 정지 시스템
- 백업 제어기
## 8. 장단점 분석

### 8.1 장점

1. **확장성**: 시스템 규모 증가에 대한 자연스러운 확장
2. **강인성**: 부분 실패가 전체 시스템에 미치는 영향 제한
3. **모듈성**: 독립적인 설계 및 유지보수 가능
4. **병렬성**: 다중 프로세서에서 동시 처리
5. **통신 효율**: 지역 통신만으로 제어 가능
6. **플러그 앤 플레이**: 서브시스템 추가/제거 용이

### 8.2 단점

1. **최적성 손실**: 전역 최적해 달성 불가능
2. **설계 복잡성**: 상호작용 고려한 설계 어려움
3. **안정성 보장**: 연결 안정성 분석의 보수성
4. **성능 제한**: 구조적 제약으로 인한 성능 한계
5. **조정 문제**: 서브시스템 간 협조 어려움
6. **정보 제한**: 전역 정보 부족으로 인한 판단 오류

### 8.3 집중제어와의 비교

**계산 복잡도**:
- 집중제어: O(n³) (n: 전체 시스템 차수)
- 분산제어: O(max(n_i³)) (n_i: 서브시스템 차수)

**통신 요구량**:
- 집중제어: 모든 센서 정보 중앙 집중
- 분산제어: 지역 또는 인접 정보만

**실시간성**:
- 집중제어: 중앙 처리기 부하 집중
- 분산제어: 병렬 처리로 빠른 응답

### 8.4 적용 영역별 평가

**대규모 시스템**: 매우 적합
- 전력 시스템
- 교통 네트워크
- 통신 네트워크

**소규모 시스템**: 굳이 안 해도 됨
- 단일 로봇 매니퓰레이터
- 간단한 제어 시스템

**실시간 시스템**: 조건부 적합
- 빠른 동역학: 부적합
- 느린 동역학: 적합

### 8.5 경제성 분석

**개발 비용**:
- 초기: 집중제어보다 높음 (복잡한 설계)
- 장기: 유지보수 비용 낮음

**하드웨어 비용**:
- 다중 프로세서 필요
- 통신 인프라 구축

**운영 비용**:
- 낮은 에너지 소비
- 분산된 유지보수
## 9. 최신 동향

### 9.1 네트워크 기반 분산제어

**그래프 신호 처리**: 
네트워크 구조를 고려한 신호 처리 및 제어

**Graph Fourier Transform**:
$$\hat{x}(\lambda_l) = \sum_{i=1}^N x(i) u_l^*(i)$$

**분산 필터 설계**: 지역 정보만으로 전역 필터 구현

### 9.2 머신러닝 기반 분산제어

**분산 강화학습**:
- 각 에이전트의 독립적 학습
- 경험 공유를 통한 협조 학습
- Multi-Agent Deep Q-Network (MADQN)

**연합 학습 (Federated Learning)**:
$$\theta_{global} = \sum_{i=1}^N \frac{n_i}{N} \theta_i$$

**신경망 기반 분산 제어기**:
- 적응적 이득 조정
- 비선형 상호작용 학습

### 9.3 블록체인 기반 분산제어

**분산 신뢰 시스템**:
- 중앙 권한 없는 의사결정
- 투명하고 변조 불가능한 기록
- 스마트 컨트랙트 기반 제어

**합의 메커니즘**:
- Proof of Work (PoW)
- Proof of Stake (PoS)
- Practical Byzantine Fault Tolerance (PBFT)

### 9.4 에지 컴퓨팅과 분산제어

**엣지-클라우드 하이브리드**:
- 지역 처리: 실시간 제어
- 클라우드 처리: 최적화 및 학습

**5G/6G 네트워크 활용**:
- 초저지연 통신
- 대용량 데이터 전송
- 네트워크 슬라이싱

### 9.5 디지털 트윈과 분산제어

**분산 디지털 트윈**:
각 서브시스템의 개별 디지털 트윈

**실시간 동기화**:
$$\dot{x}_{twin,i} = f_i(x_{twin,i}, u_i) + K_i(x_{real,i} - x_{twin,i})$$

**예측 제어**: 디지털 트윈 기반 미래 상태 예측

### 9.6 양자 컴퓨팅과 분산제어

**양자 분산 알고리즘**:
- 양자 얽힘을 이용한 즉시 정보 공유
- 양자 병렬성을 통한 빠른 최적화

**양자 통신 네트워크**:
- 절대적 보안성
- 원격지 간 즉시 통신

**한계**: 현재 기술 수준으로는 제한적 적용
## 10. 관련 텍스트북 및 참고문헌

### 주요 텍스트북

1. **Siljak, D. D. (1991)**. "Decentralized Control of Complex Systems". Academic Press.
   - 분산제어의 고전적 명저
   - 대규모 시스템 이론의 기초

2. **Bakule, L. (2008)**. "Decentralized Control: An Overview". Annual Reviews in Control.
   - 분산제어의 포괄적 리뷰
   - 현대적 관점의 체계적 정리

3. **Lunze, J. (1992)**. "Feedback Control of Large-Scale Systems". Prentice Hall.
   - 대규모 시스템의 피드백 제어
   - 실용적 설계 방법론

4. **Sandell, N. R., et al. (1978)**. "Survey of Decentralized Control Methods for Large Scale Systems". IEEE Transactions on Automatic Control.
   - 초기 분산제어 연구의 기준
   - 기본 개념과 방법론 정립

### 중요 논문들

1. **Wang, S. H., & Davison, E. J. (1973)**. "On the Stabilization of Decentralized Control Systems". IEEE Transactions on Automatic Control.
   - 분산 안정화의 기초 이론
   - 연결 안정성 개념 도입

2. **Sezer, M. E., & Siljak, D. D. (1981)**. "Nested ε-Decompositions and Clustering of Complex Systems". Automatica.
   - 계층적 분해 방법론
   - 복잡 시스템의 클러스터링

3. **Ho, Y. C., & Chu, K. C. (1972)**. "Team Decision Theory and Information Structures in Optimal Control Problems". IEEE Transactions on Automatic Control.
   - 팀 의사결정 이론
   - 정보 구조의 역할

4. **Aoki, M. (1972)**. "On Decentralized Linear Stochastic Control Problems". Automatica.
   - 확률적 분산제어
   - 불완전 정보 하에서의 제어

### 로봇 응용 논문들

- **Lewis, F. L., & Syrmos, V. L. (1995)**. "Optimal Control" (2nd Edition). John Wiley & Sons.

- **Ren, W., & Beard, R. W. (2008)**. "Distributed Consensus in Multi-vehicle Cooperative Control". Springer-Verlag.

- **Mesbahi, M., & Egerstedt, M. (2010)**. "Graph Theoretic Methods in Multiagent Networks". Princeton University Press.

- **Bullo, F., Cortés, J., & Martínez, S. (2009)**. "Distributed Control of Robotic Networks". Princeton University Press.

### 최신 연구 동향

- **Nedić, A., & Ozdaglar, A. (2009)**. "Distributed Subgradient Methods for Multi-Agent Optimization". IEEE Transactions on Automatic Control.

- **Yang, T., et al. (2019)**. "A Survey of Distributed Optimization". Annual Reviews in Control.

- **Li, T., et al. (2020)**. "Federated Learning: Challenges, Methods, and Future Directions". IEEE Signal Processing Magazine.

### 그래프 이론 및 네트워크 과학

**수학적 배경**:
- **Godsil, C., & Royle, G. (2001)**. "Algebraic Graph Theory". Springer-Verlag.
- **Newman, M. E. J. (2010)**. "Networks: An Introduction". Oxford University Press.

### 제어 이론 기초

- **Zhou, K., Doyle, J. C., & Glover, K. (1996)**. "Robust and Optimal Control". Prentice Hall.
- **Francis, B. A. (1987)**. "A Course in H∞ Control Theory". Springer-Verlag.

이 문서는 Siljak의 "Decentralized Control of Complex Systems"와 Bakule의 서베이 논문을 주요 참고문헌으로 하여 작성되었습니다.