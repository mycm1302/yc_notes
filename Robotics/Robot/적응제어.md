# Adaptive Control (적응 제어)

## 1. 개요 및 배경

적응 제어는 시스템의 알려지지 않거나 시변하는 매개변수에 실시간으로 적응하는 제어 기법입니다. 1950년대 항공기 제어에서 시작되어, 1970년대 Lyapunov 안정성 이론과 결합하면서 이론적 기반이 확립되었습니다. 로봇 제어 분야에서는 1980년대 Slotine과 Li의 연구를 통해 크게 발전했습니다.

### 1.1 적응 제어의 필요성

로봇 시스템에서 적응 제어가 필요한 이유:
- **매개변수 불확실성**: 링크 질량, 관성, 마찰 계수 등의 불확실성
- **페이로드 변화**: 작업 중 운반 물체의 변화
- **마모와 노화**: 시간에 따른 시스템 특성 변화
- **환경 변화**: 작업 환경에 따른 동역학 변화

### 1.2 기본 원리

적응 제어의 핵심 아이디어:
1. **매개변수 추정**: 알려지지 않은 매개변수를 온라인으로 추정
2. **제어 법칙**: 추정된 매개변수를 이용한 제어기 설계
3. **적응 법칙**: 추정 오차를 줄이는 매개변수 업데이트
4. **안정성 보장**: Lyapunov 이론을 통한 전체 시스템 안정성

### 1.3 분류

**직접 적응 제어**: 제어기 매개변수를 직접 적응
**간접 적응 제어**: 플랜트 매개변수를 추정한 후 제어기 계산

**모델 기준 적응 제어 (MRAC)**: 기준 모델을 따라가도록 설계
**자가 조정 제어 (STR)**: 시스템 식별과 제어기 설계를 분리

## 2. 수학적 기초

### 2.1 일반적인 적응 제어 구조

시스템 모델:
$$\dot{x} = f(x, \theta) + g(x)u$$

여기서:
- x: 상태 벡터
- θ: 알려지지 않은 매개변수 벡터
- u: 제어 입력

적응 제어기:
$$u = \pi(x, \hat{\theta}, t)$$

적응 법칙:
$$\dot{\hat{\theta}} = \tau(x, \hat{\theta}, t)$$

### 2.2 Lyapunov 기반 적응 법칙

안정성을 보장하는 적응 법칙 설계:

**Lyapunov 함수**:
$$V = V_0(x) + \frac{1}{2}\tilde{\theta}^T \Gamma^{-1} \tilde{\theta}$$

여기서:
- V₀(x): 제어 목적을 위한 Lyapunov 함수
- $\tilde{\theta} = \hat{\theta} - \theta$: 매개변수 추정 오차
- Γ: 적응 이득 행렬

**적응 법칙**:
$$\dot{\hat{\theta}} = \Gamma \phi(x) e$$

여기서:
- φ(x): 회귀 벡터 (regressor)
- e: 추종 오차 또는 적응 오차

### 2.3 지속적 여기 (Persistent Excitation)

매개변수 수렴을 위한 조건:

**지속적 여기 조건**:
$$\alpha_1 I \leq \int_t^{t+T} \phi(\tau)\phi^T(\tau) d\tau \leq \alpha_2 I$$

모든 t ≥ 0에 대해 α₁, α₂ > 0이고 T > 0입니다.

**의미**: 회귀 벡터가 충분히 풍부해야 매개변수가 참값으로 수렴

### 2.4 적응 제어의 안정성

**균등 궁극 유계성 (UUB)**:
적절한 조건 하에서 모든 신호가 궁극적으로 유계

**점근적 안정성**:
지속적 여기 조건 하에서 매개변수 추정 오차 → 0

**Barbalat의 보조정리**:
$$\lim_{t \to \infty} \int_0^t \|\dot{V}(\tau)\| d\tau < \infty$$
이고 $\ddot{V}$가 유계이면 $\lim_{t \to \infty} \dot{V}(t) = 0$

### 2.5 강건성 문제

**매개변수 표류 (Parameter Drift)**:
외란이나 비모델링 동역학으로 인한 매개변수 발산

**해결 방법들**:
1. **σ-modification**: $\dot{\hat{\theta}} = \Gamma(\phi e - \sigma \hat{\theta})$
2. **e-modification**: $\dot{\hat{\theta}} = \Gamma(\phi e - \sigma \|\e\| \hat{\theta})$
3. **Projection**: 매개변수를 유계 집합으로 제한

## 3. 로봇 제어 적용

### 3.1 로봇 동역학의 적응 제어 구조

n자유도 로봇 매니퓰레이터:
$$M(q)\ddot{q} + C(q,\dot{q})\dot{q} + G(q) = \tau$$

**선형성 특성**: 동역학이 매개변수에 대해 선형
$$M(q)\ddot{q} + C(q,\dot{q})\dot{q} + G(q) = Y(q,\dot{q},\ddot{q})\theta$$

여기서:
- Y: 회귀 행렬 (regressor matrix)
- θ: 물리적 매개변수 벡터 (질량, 관성, 길이 등)

### 3.2 Slotine-Li 적응 제어기

**기준 궤적 정의**:
$$\dot{q}_r = \dot{q}_d - \Lambda e$$

여기서:
- e = q - qd: 위치 추종 오차
- Λ: 양의 정수 대각 행렬

**필터링된 추종 오차**:
$$s = \dot{e} + \Lambda e = \dot{q} - \dot{q}_r$$

**적응 제어 법칙**:
$$\tau = Y(q,\dot{q},\dot{q}_r,\ddot{q}_r)\hat{\theta} - K_D s$$

**적응 법칙**:
$$\dot{\hat{\theta}} = \Gamma Y^T s$$

여기서:
- $\hat{\theta}$: 추정된 매개변수
- Γ: 적응 이득 행렬
- K_D: PD 이득 행렬

### 3.3 안정성 증명

**Lyapunov 함수**:
$$V = \frac{1}{2}s^T M(q) s + \frac{1}{2}\tilde{\theta}^T \Gamma^{-1} \tilde{\theta}$$

여기서 $\tilde{\theta} = \hat{\theta} - \theta$는 매개변수 추정 오차입니다.

**시간 미분**:
$$\dot{V} = s^T M \dot{s} + \frac{1}{2}s^T \dot{M} s + \tilde{\theta}^T \Gamma^{-1} \dot{\hat{\theta}}$$

로봇 동역학의 중요한 성질 사용:
$$s^T[\dot{M} - 2C]s = 0$$

따라서:
$$\dot{V} = s^T[M\dot{s} + Cs] + \tilde{\theta}^T \Gamma^{-1} \dot{\hat{\theta}}$$

동역학 방정식을 대입하면:
$$\dot{V} = s^T[\tau - Y\theta] + \tilde{\theta}^T \Gamma^{-1} \dot{\hat{\theta}}$$

제어 법칙과 적응 법칙을 대입:
$$\dot{V} = -s^T K_D s \leq 0$$

따라서 시스템은 안정합니다.

### 3.4 수렴성 분석

**균등 궁극 유계성**: 모든 신호는 유계
- $s \in L_2 \cap L_\infty$
- $\tilde{\theta} \in L_\infty$
- $e, \dot{e} \in L_\infty$

**점근적 수렴**: PE 조건 하에서
$$\lim_{t \to \infty} s(t) = 0, \quad \lim_{t \to \infty} \tilde{\theta}(t) = 0$$

### 3.5 복합 적응 제어 (Composite Adaptive Control)

예측 오차를 추가로 활용하는 방법:

**예측 오차**:
$$\epsilon = \dot{q} - Y_f \hat{\theta}$$

여기서 Y_f는 필터링된 회귀 행렬입니다.

**복합 적응 법칙**:
$$\dot{\hat{\theta}} = \Gamma[Y^T s + Y_f^T P \epsilon]$$

여기서 P는 적절한 가중 행렬입니다.

**장점**: 더 빠른 매개변수 수렴과 향상된 과도 응답

### 3.6 데카르트 공간 적응 제어

작업 공간에서의 직접 적응 제어:

**작업 공간 동역학**:
$$\Lambda(x)\ddot{x} + \mu(x,\dot{x})\dot{x} + p(x) = F$$

여기서:
- x: 작업 공간 위치
- F: 작업 공간 힘

**적응 제어 법칙**:
$$F = Y_x(x,\dot{x},\dot{x}_r,\ddot{x}_r)\hat{\theta}_x - K_{Dx} s_x$$

**적응 법칙**:
$$\dot{\hat{\theta}}_x = \Gamma_x Y_x^T s_x$$

### 3.7 강건 적응 제어

외란과 비모델링 동역학에 대한 강건성:

**수정된 적응 법칙**:
$$\dot{\hat{\theta}} = \Gamma Y^T s - \sigma \Gamma \hat{\theta}$$

여기서 σ > 0은 누출 계수(leakage factor)입니다.

**장점**: 매개변수 표류 방지 및 향상된 강건성
**단점**: 매개변수가 참값으로 수렴하지 않을 수 있음

## 4. 장단점 분석

### 4.1 장점

1. **매개변수 학습**: 알려지지 않은 매개변수를 온라인으로 학습
2. **이론적 보장**: Lyapunov 이론에 기반한 안정성 보장
3. **페이로드 적응**: 페이로드 변화에 자동으로 적응
4. **점근적 추종**: PE 조건 하에서 완벽한 추종 달성
5. **구조적 단순성**: 상대적으로 간단한 제어 구조
6. **확장성**: 다양한 로봇 구조에 쉽게 적용

### 4.2 단점

1. **지속적 여기 요구**: 매개변수 수렴을 위해 충분한 여기 필요
2. **느린 적응**: 일반적으로 느린 매개변수 수렴 속도
3. **매개변수 표류**: 외란 존재 시 매개변수 발산 가능
4. **초기 과도 현상**: 초기 매개변수 추정 오차로 인한 큰 과도 응답
5. **계산 부담**: 실시간 매개변수 업데이트의 계산 복잡성

## 5. 최신 동향

### 5.1 신경망 기반 적응 제어
- 비선형 근사 능력을 활용한 적응 제어
- 불확실한 비선형성의 학습

### 5.2 퍼지 적응 제어
- 언어적 규칙을 이용한 적응 메커니즘
- 매개변수와 구조의 동시 적응

### 5.3 강화학습 기반 적응
- 시행착오를 통한 제어 정책 학습
- 모델-프리 적응 제어

### 5.4 이벤트 기반 적응 제어
- 네트워크 자원 효율적 사용
- 통신 제약 하의 적응 제어

## 6. 관련 텍스트북 및 참고문헌

### 주요 텍스트북

1. **Slotine, J.-J. E., & Li, W. (1991)**. "Applied Nonlinear Control". Prentice Hall.
   - 8장에서 적응 제어 상세 다룸
   - 로봇 제어 응용에 중점

2. **Ioannou, P. A., & Sun, J. (1996)**. "Robust Adaptive Control". Prentice Hall.
   - 적응 제어의 포괄적 이론서
   - 강건성 문제 심층 다룸

3. **Sastry, S., & Bodson, M. (1989)**. "Adaptive Control: Stability, Convergence, and Robustness". Prentice Hall.
   - 적응 제어의 이론적 기초

### 중요 논문들
- **Slotine, J.-J. E., & Li, W. (1987)**. "On the adaptive control of robot manipulators". The International Journal of Robotics Research. (2000+ 인용)
- **Craig, J. J., Hsu, P., & Sastry, S. S. (1987)**. "Adaptive control of mechanical manipulators". The International Journal of Robotics Research.
- **Middleton, R. H., & Goodwin, G. C. (1988)**. "Adaptive computed torque control for rigid link manipulators". Systems & Control Letters.

이 문서는 Slotine & Li의 "Applied Nonlinear Control"과 그들의 로봇 적응 제어 논문을 주요 참고문헌으로 하여 작성되었습니다.
