# 통계적고려사항

> 상위: [[설계]]
> 
> 레퍼런스: Shigley's Mechanical Engineering Design Ch.2 "Statistical Considerations"

설계에서 불확실성과 변동성을 다루기 위한 통계적 접근법과 공차 관리를 다룹니다.

## 📊 확률변수와 분포

### 확률변수 정의
- **이산 확률변수**: 고장 횟수, 불량품 개수, 균열 개수
- **연속 확률변수**: 강도, 치수, 온도, 수명, 변형률

### 확률밀도함수 (PDF)
```
연속변수: P(a ≤ X ≤ b) = ∫[a to b] f(x)dx
이산변수: P(X = k) = p(k)

조건:
∫[-∞ to ∞] f(x)dx = 1 (연속)
Σp(k) = 1 (이산)
```

### 누적분포함수 (CDF)
```
F(x) = P(X ≤ x) = ∫[-∞ to x] f(t)dt

신뢰도: R(x) = 1 - F(x) = P(X > x)
```

---

## 📈 주요 확률분포

### 정규분포 (Normal Distribution)
```
f(x) = (1/(σ√(2π))) × exp(-((x-μ)²)/(2σ²))

μ: 평균 (위치 모수)
σ: 표준편차 (산포 모수)

특성:
- 종 모양 대칭
- μ±σ: 68.3% 포함
- μ±2σ: 95.4% 포함  
- μ±3σ: 99.7% 포함
```

### 대수정규분포 (Lognormal)
```
ln(X) ~ N(μ', σ')

용도: 재료 강도, 피로 수명
특성: 항상 양수, 오른쪽 꼬리 길음

평균: E[X] = exp(μ' + σ'²/2)
분산: Var[X] = exp(2μ' + σ'²)[exp(σ'²) - 1]
```

### 와이불분포 (Weibull)
```
f(x) = (β/η) × (x/η)^(β-1) × exp(-(x/η)^β)

β: 형상 모수 (shape parameter)
η: 척도 모수 (scale parameter)

β < 1: 조기 고장형 (목욕통 곡선 초기)
β = 1: 지수분포 (랜덤 고장)
β > 1: 마모 고장형 (목욕통 곡선 후기)
```

### 지수분포 (Exponential)
```
f(x) = λexp(-λx), x ≥ 0

λ: 고장률 (failure rate)
평균: μ = 1/λ
분산: σ² = 1/λ²

특성: 무기억성 (memoryless property)
용도: 전자부품 수명, 대기시간
```

---

## 📊 통계량과 추정

### 표본 통계량
```
표본평균: x̄ = (Σxi)/n
표본분산: s² = Σ(xi - x̄)²/(n-1)
표본표준편차: s = √s²

변동계수: CV = s/x̄ (상대적 변동성)
```

### 중심극한정리
```
표본평균의 분포: x̄ ~ N(μ, σ²/n)

표준화: Z = (x̄ - μ)/(σ/√n) ~ N(0,1)

n이 클 때 (n ≥ 30): 모집단 분포와 무관하게 성립
```

### 신뢰구간
```
모평균 μ의 100(1-α)% 신뢰구간:

σ 알려진 경우: x̄ ± zα/2 × (σ/√n)
σ 모르는 경우: x̄ ± tα/2,n-1 × (s/√n)

일반적 신뢰도:
90%: z0.05 = 1.645
95%: z0.025 = 1.960
99%: z0.005 = 2.576
```

---

## 🔍 가설검정

### t-검정 (평균 검정)
```
H0: μ = μ0 vs H1: μ ≠ μ0

검정통계량: t = (x̄ - μ0)/(s/√n)
자유도: df = n-1

판정:
|t| > tα/2,n-1 이면 H0 기각
```

### F-검정 (분산 검정)
```
H0: σ1² = σ2² vs H1: σ1² ≠ σ2²

검정통계량: F = s1²/s2² (s1² > s2²)
자유도: df1 = n1-1, df2 = n2-1

판정: F > Fα/2,df1,df2 이면 H0 기각
```

### 적합도 검정 (Goodness of Fit)
```
카이제곱 검정: χ² = Σ(Oi - Ei)²/Ei

Oi: 관측빈도
Ei: 기대빈도
자유도: df = 구간수 - 모수개수 - 1
```

---

## 📐 오차 전파 (Error Propagation)

### 테일러 급수 근사
```
Y = f(X1, X2, ..., Xn)일 때,

평균: E[Y] ≈ f(μ1, μ2, ..., μn)

분산: Var[Y] ≈ Σ(∂f/∂xi)² × σi² + 2ΣΣ(∂f/∂xi)(∂f/∂xj) × Cov(Xi,Xj)
```

### 주요 함수의 오차 전파
```
Y = X1 + X2: σY² = σ1² + σ2² + 2Cov(X1,X2)
Y = X1 - X2: σY² = σ1² + σ2² - 2Cov(X1,X2)
Y = X1 × X2: (σY/Y)² = (σ1/X1)² + (σ2/X2)² + 2Cov(X1,X2)/(X1×X2)
Y = X1/X2: (σY/Y)² = (σ1/X1)² + (σ2/X2)² - 2Cov(X1,X2)/(X1×X2)
Y = X^n: σY/Y = n × (σX/X)
```

### 독립변수인 경우
```
곱셈/나눗셈: 상대오차의 제곱합
덧셈/뺄셈: 절대오차의 제곱합

예: Y = (X1 × X2)/X3
(σY/Y)² = (σ1/X1)² + (σ2/X2)² + (σ3/X3)²
```

---

## 📏 선형회귀분석

### 최소제곱법
```
Y = a + bX + ε

정규방정식:
b = [nΣXY - ΣXΣY]/[nΣX² - (ΣX)²]
a = Ȳ - bX̄

결정계수: R² = SSR/SST = 1 - SSE/SST
SST = Σ(Yi - Ȳ)² (총변동)
SSR = Σ(Ŷi - Ȳ)² (회귀변동)  
SSE = Σ(Yi - Ŷi)² (오차변동)
```

### 회귀계수의 유의성
```
H0: β = 0 vs H1: β ≠ 0

t = b/SE(b), SE(b) = √(MSE/SXX)

MSE = SSE/(n-2)
SXX = Σ(Xi - X̄)²
```

### 예측과 신뢰구간
```
점 예측: Ŷ = a + bX

예측값의 표준오차:
SE(Ŷ) = √MSE × √[1/n + (X-X̄)²/SXX]

신뢰구간: Ŷ ± tα/2,n-2 × SE(Ŷ)
```

---

## 🔧 공차와 끼워맞춤

### 끼워맞춤 기본 개념
```
간극/죄임 = 구멍 치수 - 축 치수

최대 간극 = Dmax - dmin
최소 간극 = Dmin - dmax

죄임의 경우: 음수 값 (interference)
```

### ISO 공차 체계
```
기본 치수 구간별 표준 공차:
3~6mm: IT7 = 10μm
6~10mm: IT7 = 15μm  
10~18mm: IT7 = 18μm
18~30mm: IT7 = 21μm

공차 등급:
IT5, IT6: 정밀 가공
IT7, IT8: 일반 기계 가공
IT9, IT10: 거친 가공
```

### 구멍 기준 시스템 (H/h)
```
H7/g6: 헐거운 미끄럼 끼워맞춤
H7/h6: 밀착 미끄럼 끼워맞춤  
H7/k6: 전이 끼워맞춤
H7/p6: 가벼운 죔 끼워맞춤
H7/s6: 보통 죔 끼워맞춤
```

### 축 기준 시스템
```
축을 기준(h)으로 하는 경우:
h6/G7, h6/H7, h6/K7, h6/P7, h6/S7
```

---

## 📊 공차 누적 해석

### 최악의 경우 (Worst Case)
```
Total_tolerance = Σ|individual_tolerances|

보수적 접근법
제조비용 높음
100% 조립 보장
```

### 제곱합 평균 (RSS)
```
Total_tolerance = √(Σ(individual_tolerances)²)

경제적 접근법
정규분포 가정
99.73% (±3σ) 조립률
```

### 몬테카를로 시뮬레이션
```
1. 각 치수에 대해 확률분포 정의
2. 랜덤 샘플링으로 치수 생성
3. 조립체 치수 계산
4. 통계적 분석 (평균, 표준편차, 불량률)

장점: 복잡한 함수 관계 해석 가능
단점: 계산 시간 많이 소요
```

---

## 🎯 신뢰성 기초

### 신뢰도 함수
```
R(t) = P(T > t) = 1 - F(t)

F(t): 누적고장분포함수
T: 고장시간 확률변수
```

### 고장률 함수
```
λ(t) = f(t)/R(t) = -d(ln R(t))/dt

상수 고장률: λ(t) = λ → R(t) = exp(-λt)
증가 고장률: 마모 고장
감소 고장률: 조기 고장
```

### 평균고장시간 (MTTF)
```
MTTF = E[T] = ∫₀^∞ R(t)dt

지수분포: MTTF = 1/λ
와이불분포: MTTF = η×Γ(1 + 1/β)
정규분포: MTTF = μ
```

### 시스템 신뢰도
```
직렬 시스템: Rs = R₁ × R₂ × ... × Rn
병렬 시스템: Rs = 1 - (1-R₁)(1-R₂)...(1-Rn)

k-out-of-n 시스템:
Rs = Σ(i=k to n) C(n,i) × Rⁱ × (1-R)^(n-i)
```

---

## 📏 치수 체인 해석

### 치수 체인 설정
```
폐루프 치수체인: ΣLi = 0

증가 방향: +
감소 방향: -

예: L₀ = L₁ - L₂ + L₃ - L₄
```

### 1차 공차 해석
```
최대값: L₀max = Σ(Li + Ti/2) - Σ(Li - Ti/2)
최소값: L₀min = Σ(Li - Ti/2) - Σ(Li + Ti/2)

공차: T₀ = ΣTi (최악의 경우)
T₀ = √(ΣTi²) (통계적 방법)
```

### 공차 배분
```
동일 배분: Ti = T₀/n
정밀도 고려: Ti = Ti₀ × (T₀/T₀₀)
비용 고려: Ti ∝ √(상대비용)

최적 배분: ∂(총비용)/∂Ti = 0
```

---

## 🔬 실험계획법 기초

### 요인실험
```
2ᵏ 실험계획:
k: 요인 수
2ᵏ: 실험점 수

주효과: A = (a₁ - a₀)/2
교호작용: AB = ((ab - a) - (b - 1))/2
```

### 분산분석 (ANOVA)
```
총변동: SST = Σ(Yij - Ȳ..)²
처리간변동: SSTr = nΣ(Ȳi. - Ȳ..)²  
오차변동: SSE = ΣΣ(Yij - Ȳi.)²

F 통계량: F = MSTr/MSE
MSTr = SSTr/(k-1)
MSE = SSE/(N-k)
```

### 반응표면법 (RSM)
```
2차 모델: Y = β₀ + Σβᵢxᵢ + Σβᵢᵢxᵢ² + ΣΣβᵢⱼxᵢxⱼ + ε

중심합성계획 (CCD)
Box-Behnken 계획
최적화: ∂Y/∂xᵢ = 0
```

---

## 💻 통계 소프트웨어 활용

### 주요 소프트웨어
- **Minitab**: 품질관리, 실험계획
- **JMP**: 탐색적 데이터 분석
- **R**: 오픈소스 통계 패키지
- **Python**: NumPy, SciPy, pandas
- **MATLAB**: Statistics Toolbox

### 분포 적합 검정
```
Anderson-Darling 검정:
정규성 검정에 강력
p-value > 0.05이면 정규분포 가정

Kolmogorov-Smirnov 검정:
분포무관 검정
연속분포에 적용
```

### 공정능력 분석
```
Cp = (USL - LSL)/(6σ)
Cpk = min[(USL - μ)/(3σ), (μ - LSL)/(3σ)]

Cp ≥ 1.33: 양호
Cp ≥ 1.67: 우수
Cpk ≥ 1.33: 공정 중심화 양호
```

---

## 🔗 관련 문서

- [[기계공학설계개론]]: 신뢰성 설계와 안전계수
- [[재료학]]: 재료 물성의 통계적 변동
- [[품질관리]]: 통계적 품질관리 기법
- [[CAE해석]]: 확률론적 해석 방법