# 폐루프동역학

> 상위: [[동역학]]

폐쇄 체인 구조를 가진 병렬 로봇이나 다중 루프 메커니즘의 동역학 해석 방법입니다.

## 📐 기본 개념

### 정의
폐루프동역학(Closed-loop Dynamics)은 여러 개의 독립적인 체인이 공통의 말단장치나 플랫폼을 공유하여 폐쇄 루프를 형성하는 시스템의 동역학을 다룹니다 [1].

### 폐루프 시스템의 특징
- **여분성 (Redundancy)**: 동일한 말단장치 위치에 대해 여러 조인트 구성 가능
- **강성 향상**: 다중 경로로 인한 구조적 강성
- **작업공간 제한**: 모든 체인의 교집합 영역만 도달 가능
- **복잡한 구속조건**: 루프 폐쇄 조건

## 🔗 병렬 로봇의 구조

### 스튜어트 플랫폼
**구조:**
- 고정 베이스와 이동 플랫폼
- 6개의 확장가능한 다리 (Universal-Prismatic-Spherical)
- 6자유도 플랫폼 제어

**기하학적 관계:**
```
베이스 점: bᵢ ∈ ℝ³, i = 1,...,6
플랫폼 점: pᵢ = R·aᵢ + d ∈ ℝ³
다리 길이: Lᵢ = ‖pᵢ - bᵢ‖
```

여기서:
- R ∈ SO(3): 플랫폼 자세
- d ∈ ℝ³: 플랫폼 위치
- aᵢ: 플랫폼 좌표계에서의 연결점

### 델타 로봇
**구조:**
- 3개의 병렬 체인
- 각 체인: Revolute-Revolute-Spherical
- 3자유도 병진 운동 (Pure translation)

**특징:**
- 높은 속도와 가속도
- 픽앤플레이스 작업에 적합
- 작업공간이 제한적

### 평면 병렬 로봇
**3-RRR 구조:**
```
베이스에 3개의 회전 조인트
각각 2개의 링크로 구성
말단에서 하나의 플랫폼 공유
```

**자유도:** 3 (x, y, θ)

## ⚙️ 구속조건과 동역학

### 루프 폐쇄 구속
**위치 구속:**
```
φᵢ(q) = ‖pᵢ(q) - bᵢ‖² - Lᵢ² = 0, i = 1,...,m
```

**속도 구속:**
```
Jᵢ(q)q̇ = 0
```

여기서 Jᵢ = ∂φᵢ/∂q는 i번째 루프의 구속 자코비안

### 전체 구속 자코비안
```
J(q) = [J₁(q)]  ∈ ℝᵐˣⁿ
       [J₂(q)]
       [ ⋮  ]
       [Jₘ(q)]
```

### 구속 동역학 방정식
```
M(q)q̈ + C(q,q̇)q̇ + G(q) = τ + Jᵀ(q)λ
J(q)q̈ + J̇(q)q̇ = 0
```

여기서 λ는 구속력 벡터

## 🔄 축소 차수 모델

### 독립 좌표 분리
전체 조인트를 독립과 종속으로 분할:
```
q = [qᵢ]  (독립 좌표)
    [qᵈ]  (종속 좌표)
```

### 종속 좌표 소거
구속조건으로부터:
```
qᵈ = f(qᵢ)
q̇ᵈ = (∂f/∂qᵢ)q̇ᵢ
q̈ᵈ = (∂f/∂qᵢ)q̈ᵢ + (∂²f/∂qᵢ²)q̇ᵢq̇ᵢ
```

### 축소 동역학 방정식
```
M̃(qᵢ)q̈ᵢ + C̃(qᵢ,q̇ᵢ)q̇ᵢ + G̃(qᵢ) = τ̃
```

여기서:
```
M̃ = TᵀMT
C̃ = Tᵀ(CT + MT̂)
G̃ = TᵀG
τ̃ = TᵀΠτ
```

여기서 T = ∂q/∂qᵢ는 변환 자코비안

## 📊 스튜어트 플랫폼의 동역학

### 플랫폼 동역학
플랫폼의 6자유도 운동:
```
X = [x, y, z, α, β, γ]ᵀ  (위치와 오일러각)
```

### 다리 동역학
각 다리 i의 동역학:
```
mᵢL̈ᵢ = fᵢ - mᵢg·ẑᵢ
```

여기서:
- mᵢ: i번째 다리의 등가 질량
- fᵢ: i번째 액추에이터 힘
- ẑᵢ: i번째 다리의 방향 단위벡터

### 플랫폼 관성
플랫폼의 관성행렬:
```
Mp = [m·I₃    0  ]
     [0      Ip ]
```

여기서:
- m: 플랫폼 질량
- Ip: 플랫폼 관성텐서

### 결합 동역학
```
Mp·Ẍ + Cp·Ẋ + Gp = Jᵀf
```

여기서:
- J: 플랫폼에서 다리로의 자코비안
- f = [f₁, f₂, ..., f₆]ᵀ: 액추에이터 힘 벡터

## 🎯 델타 로봇의 동역학

### 기구학적 관계
플랫폼 위치 P = [x, y, z]ᵀ에 대한 역기구학:
```
θᵢ = IK(P), i = 1,2,3
```

### 자코비안 관계
```
Ṗ = J(θ)θ̇
P̈ = J(θ)θ̈ + J̇(θ)θ̇
```

### 동역학 방정식
```
M(θ)θ̈ + C(θ,θ̇)θ̇ + G(θ) = τ
```

작업공간에서:
```
Λ(P)P̈ + μ(P,Ṗ) + γ(P) = F
```

여기서:
```
Λ = (J M⁻¹ Jᵀ)⁻¹  (작업공간 관성행렬)
F = JᵀΠτ  (말단장치 힘)
```

## 🔍 특이점과 작업공간

### 특이점의 분류
**Type I (역기구학 특이점):**
- 경계에서 발생
- det(J) = 0
- 속도 증폭 무한대

**Type II (순기구학 특이점):**
- 내부에서 발생
- 구속 손실
- 제어 불가능

### 특이점 회피
**궤적 계획:**
- 특이점을 피하는 경로 설계
- 조작도 최적화

**제어 기법:**
- 댐핑 최소제곱법
- 태스크 우선순위

## 📈 계산 효율성

### 병렬 계산
각 다리의 동역학을 독립적으로 계산:
```
parallel for i = 1 to n:
    compute τᵢ = InverseDynamics_Leg_i(qᵢ, q̇ᵢ, q̈ᵢ)
```

### 실시간 제어
**분산 제어:**
각 다리에 독립적인 제어기

**중앙 집중 제어:**
전체 시스템의 통합 제어

### 모델 단순화
**강체 가정:**
다리의 관성 무시

**등가 질량 모델:**
복잡한 동역학을 단순화

## 🎯 제어 전략

### 개별 조인트 제어
각 액추에이터를 독립적으로 제어:
```
τᵢ = Kpᵢ(qd,ᵢ - qᵢ) + Kdᵢ(q̇d,ᵢ - q̇ᵢ)
```

### 작업공간 제어
플랫폼 레벨에서 제어:
```
F = Λ(P̈d + Kd(Ṗd - Ṗ) + Kp(Pd - P)) + μ + γ
τ = J⁻ᵀF
```

### 힘 제어
외부 힘에 대한 컴플라이언스:
```
F = Fe + Kf(Fd - Fm)
```

여기서 Fm은 측정된 힘

## 📚 참고문헌

[1] Merlet, J.P. (2006). *Parallel Robots*. 2nd Edition, Springer.
- Chapter 9: Dynamics, pp. 297-362

[2] Tsai, L.W. (1999). *Robot Analysis: The Mechanics of Serial and Parallel Manipulators*. Wiley.
- Chapter 12: Dynamics of Parallel Manipulators, pp. 401-456

[3] Kong, X., & Gosselin, C.M. (2007). *Type Synthesis of Parallel Mechanisms*. Springer.
- 병렬 기구의 형태 종합과 분석

[4] Clavel, R. (1988). "Delta, A Fast Robot with Parallel Geometry". *Proceedings of the 18th International Symposium on Industrial Robots*, 91-100.
- 델타 로봇의 원저 논문

[5] Liu, X.J., Wang, J., & Pritschow, G. (2006). "Kinematics, Singularity and Workspace of Planar 5R Symmetrical Parallel Mechanisms". *Mechanism and Machine Theory*, 41(2), 145-169.
- 평면 병렬 기구 해석

[6] Gosselin, C.M., & Angeles, J. (1990). "Singularity Analysis of Closed-Loop Kinematic Chains". *IEEE Transactions on Robotics and Automation*, 6(3), 281-290.
- 폐루프 기구의 특이점 해석

[7] Dasgupta, B., & Mruthyunjaya, T.S. (2000). "The Stewart Platform Manipulator: A Review". *Mechanism and Machine Theory*, 35(1), 15-40.
- 스튜어트 플랫폼 종합 리뷰

---

## 🔗 연결 분야
- **상위**: [[동역학]]
- **관련**: [[구속동역학]], [[병렬로봇시스템]]
- **응용**: [[특이점분석]], [[작업공간해석]]

## 태그
#폐루프동역학 #병렬로봇 #스튜어트플랫폼 #델타로봇 #구속조건