# 뱀형로봇 (Snake Robots)

## 📖 주요 참고문헌
> **주요 연구 기관**: CMU, Johns Hopkins, 도쿄공대
> **핵심 연구자**: Howie Choset (CMU), Auke Ijspeert (EPFL)
> **참고서적**: *Continuum Robots*, *Bio-inspired Robotics*

## 🎯 정의 및 특징

**뱀형로봇**은 뱀의 운동을 모방하여 연속적인 굽힘과 비틀림으로 이동하는 로봇으로, 좁은 공간에서의 이동과 복잡한 형태 변형이 가능한 연속체 로봇의 한 형태입니다.

### 🐍 구조적 특징
```
분절형 구조: 다수의 관절로 연결된 링크
연속체 구조: 유연한 재료로 이루어진 연속 몸체
하이브리드: 분절형 + 연속체 결합

일반적 구성:
- 길이: 0.5-10m
- 직경: 1-20cm  
- 관절 수: 10-100개
- 자유도: 2-3 DOF per segment
```

### ⚡ 장점
- **좁은 공간 이동**: 파이프, 틈새, 구멍 통과
- **형태 적응성**: 장애물에 맞춰 몸체 변형
- **전방향 이동**: 앞뒤, 좌우 자유로운 이동
- **안전성**: 부드러운 접촉, 손상 위험 적음

### ⚠️ 도전 과제
- **복잡한 제어**: 고차원 제어 문제
- **마찰 의존성**: 지면과의 마찰에 크게 의존
- **속도 제한**: 다른 이동 방식보다 상대적으로 느림
- **내구성**: 복잡한 기구부의 고장 위험

## 🔧 생체역학적 기초

### 1. 뱀의 이동 메커니즘

#### 측면 굴곡 (Lateral Undulation)
```
지면과의 측면 마찰을 이용한 전진
- S자 파형을 몸체를 따라 전파
- 진행 방향의 마찰 < 측면 마찰
- 가장 일반적이고 효율적인 방식

수학적 모델:
y(s,t) = A sin(2π(s/λ - t/T))
- s: 몸체 위치, t: 시간
- A: 진폭, λ: 파장, T: 주기
```

#### 직진 이동 (Rectilinear)
```
몸체의 세로 방향 근육 수축/이완
- 몸체 일부를 지면에 고정
- 나머지 부분을 전진시킴
- 느리지만 좁은 공간에 유리

특징:
- 몸체 폭 변화 없음
- 직선 경로 유지
- 정밀한 제어 가능
```

#### 아코디언 운동 (Concertina)
```
몸체의 일부를 anchor로 사용
- 앞부분 고정 → 뒷부분 끌어당김
- 뒷부분 고정 → 앞부분 밀어냄
- 수직 이동, 좁은 터널에 적합

역학적 특성:
- 높은 견인력 필요
- 국부적 높은 응력
- 복잡한 제어 패턴
```

### 2. 마찰 모델

#### 이방성 마찰 (Anisotropic Friction)
```python
def friction_force(velocity, direction):
    """방향에 따른 차등 마찰"""
    
    # 전진 방향 마찰계수
    mu_forward = 0.3
    # 측면 방향 마찰계수  
    mu_lateral = 0.8
    
    if direction == 'forward':
        return mu_forward * normal_force * sign(velocity)
    else:
        return mu_lateral * normal_force * sign(velocity)
```

#### 마찰 기반 추진
```
추진력 = (측면 마찰력) - (전진 저항력)
효율성 ∝ 마찰계수 비율 (μ_lateral / μ_forward)
```

## 🔧 기구학 및 동역학

### 1. 연속체 기구학

#### 미분기하학적 접근
```
곡률 기반 모델링:
κ(s) = d²r/ds² : 곡률 함수
τ(s) = dθ/ds  : 비틀림 함수

위치 벡터:
r(s) = ∫₀ˢ [cos θ(σ), sin θ(σ), 0] dσ

각도 함수:
θ(s) = ∫₀ˢ κ(σ) dσ
```

#### 분절형 근사
```python
def segment_kinematics(joint_angles):
    """n개 분절의 순기구학"""
    
    positions = []
    current_pos = [0, 0, 0]
    current_angle = 0
    
    for i, angle in enumerate(joint_angles):
        current_angle += angle
        next_pos = [
            current_pos[0] + L * cos(current_angle),
            current_pos[1] + L * sin(current_angle),
            current_pos[2]
        ]
        positions.append(next_pos)
        current_pos = next_pos
    
    return positions
```

### 2. 동역학 모델링

#### 분산 매개변수 시스템
```
편미분 방정식으로 모델링:
ρA ∂²r/∂t² = ∂T/∂s + f_external + f_friction

여기서:
- ρ: 밀도, A: 단면적
- T: 내부 장력
- f_external: 외력 (중력, 접촉력)
- f_friction: 마찰력
```

#### 집중 매개변수 근사
```python
def snake_dynamics(q, q_dot, tau):
    """분절형 뱀로봇 동역학"""
    
    # 관성 행렬
    M = compute_inertia_matrix(q)
    
    # 코리올리/원심력
    C = compute_coriolis_matrix(q, q_dot)
    
    # 중력 벡터
    G = compute_gravity_vector(q)
    
    # 마찰력
    F = compute_friction_forces(q, q_dot)
    
    # 운동 방정식: M*q_ddot + C*q_dot + G + F = tau
    q_ddot = inv(M) @ (tau - C @ q_dot - G - F)
    
    return q_ddot
```

### 3. 보행 생성 (Gait Generation)

#### 사인파 기반 제어
```python
def lateral_undulation_gait(t, segment_id):
    """측면 굴곡 보행 패턴"""
    
    # 기본 매개변수
    amplitude = 0.5      # 진폭 (rad)
    wavelength = 2.0     # 파장 (segments)
    frequency = 1.0      # 주파수 (Hz)
    
    # 각 분절의 목표 각도
    phase = 2 * pi * (segment_id / wavelength - frequency * t)
    target_angle = amplitude * sin(phase)
    
    return target_angle
```

#### 중추 패턴 생성기 (CPG)
```python
class CPG_Oscillator:
    """생체 모방 진동자"""
    
    def __init__(self, frequency, coupling_strength):
        self.omega = 2 * pi * frequency
        self.alpha = coupling_strength
        self.r = 1.0  # 진폭
        self.phi = 0.0  # 위상
    
    def update(self, dt, neighbor_phases):
        """Kuramoto 모델 기반 업데이트"""
        
        coupling = sum([sin(phi - self.phi) 
                       for phi in neighbor_phases])
        
        self.phi += dt * (self.omega + self.alpha * coupling)
        
        return self.r * sin(self.phi)
```

## 🎯 센서 시스템

### 1. 형태 감지 센서
- **굽힘 센서**: 각 분절의 굽힘 각도
- **비틀림 센서**: 축 방향 회전
- **길이 센서**: 분절간 거리 변화

### 2. 접촉 센서
- **압력 센서**: 몸체 표면 접촉
- **마찰 센서**: 지면과의 마찰력
- **충격 센서**: 장애물 충돌 감지

### 3. 환경 인식 센서
- **초음파**: 전방 장애물 탐지
- **카메라**: 헤드부 장착
- **화학 센서**: 가스 누출 탐지

## 🔄 제어 전략

### 1. 분산 제어
```python
def distributed_control(segment_id, local_sensors):
    """각 분절의 독립적 제어"""
    
    # 이웃 분절과의 상호작용
    front_neighbor = get_neighbor_state(segment_id - 1)
    rear_neighbor = get_neighbor_state(segment_id + 1)
    
    # 로컬 제어 법칙
    error = desired_curvature - current_curvature
    control_input = kp * error + kd * error_rate
    
    # 이웃과의 조정
    coordination = coordinate_with_neighbors(
        front_neighbor, rear_neighbor)
    
    return control_input + coordination
```

### 2. 중앙 집중 제어
```python
def centralized_control(global_state, target_shape):
    """전체 몸체의 통합 제어"""
    
    # 전역 최적화
    control_inputs = []
    
    for segment in range(num_segments):
        # 전체 형태를 고려한 최적 제어
        u_opt = optimize_segment_control(
            segment, global_state, target_shape)
        control_inputs.append(u_opt)
    
    return control_inputs
```

### 3. 학습 기반 제어
```python
class SnakeRL:
    """강화학습 기반 뱀로봇 제어"""
    
    def __init__(self):
        self.policy_network = NeuralNetwork()
        self.value_network = NeuralNetwork()
    
    def get_action(self, state):
        """정책 네트워크로부터 행동 결정"""
        
        # 상태: [위치, 속도, 곡률, 접촉력]
        normalized_state = self.normalize_state(state)
        
        # 행동: 각 분절의 목표 곡률
        action = self.policy_network(normalized_state)
        
        return action
    
    def update_policy(self, trajectory):
        """경험으로부터 정책 개선"""
        # PPO, SAC 등의 알고리즘 적용
        pass
```

## 🏭 응용 분야

### 1. 산업 검사
- **파이프 검사**: 상하수도, 가스관
- **원자로 검사**: 방사능 환경
- **항공기 검사**: 연료탱크, 날개 내부

### 2. 의료 분야
- **내시경**: 위장관 검사
- **혈관 수술**: 최소 침습 수술
- **뇌수술**: 뇌혈관 내 조작

### 3. 탐사 및 구조
- **지진 현장**: 잔해 속 생존자 수색
- **화재 현장**: 연기 가득한 건물 탐색
- **지뢰 제거**: 위험 지역 정찰

### 4. 군사 응용
- **정찰**: 적진 침투
- **폭발물 처리**: 안전한 접근
- **통신**: 케이블 설치

## 📊 성능 지표

### 1. 이동 성능
- **속도**: 0.1-2.0 m/s
- **회전 반경**: 몸체 길이의 10-50%
- **등반 각도**: 30-60°
- **파이프 직경**: 몸체 직경의 1.2-3배

### 2. 조작 성능
- **위치 정확도**: ±1-5cm
- **각도 정확도**: ±1-5°
- **반복 정확도**: ±0.5-2cm
- **페이로드**: 자중의 10-50%

### 3. 내구성
- **작동 온도**: -20 ~ +80°C
- **방수 등급**: IP65-IP68
- **진동 저항**: 10-50G
- **수명**: 1000-10000시간

## 🤖 대표 로봇 사례

### 1. 연구용 플랫폼
- **ACM-R5 (Hirose Lab)**: 능동 코드 메커니즘
- **S5 (CMU)**: 모듈러 뱀로봇
- **AmphiBot (EPFL)**: 수륙양용 뱀로봇

### 2. 상용 제품
- **GE Inspection**: 원자로 검사용
- **SINTEF**: 해저 파이프라인 검사
- **Foster-Miller LEMUR**: 군용 정찰

### 3. 의료용
- **CardioARM (CMU)**: 심장 수술용
- **Flex Robotic System**: 복강경 수술
- **Hansen Medical**: 혈관 내 시술

## 📈 최신 연구 동향

### 1. 소재 혁신
- **소프트 로보틱스**: 실리콘, 하이드로겔
- **스마트 소재**: 형상기억합금, 전기활성폴리머
- **복합재료**: 탄소섬유 복합체

### 2. 제어 발전
- **기계학습**: 적응적 보행 학습
- **모델 예측 제어**: 최적 경로 계획
- **분산 알고리즘**: 스웜 행동

### 3. 센서 융합
- **촉각 피부**: 전신 촉각 센서
- **관성 항법**: MEMS IMU 어레이
- **화학 감지**: 다중 가스 센서

---

#뱀형로봇 #SnakeRobots #연속체로봇 #생체모방 #이동메커니즘 #마찰기반추진