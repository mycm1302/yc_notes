# 칼만필터

> 상위: [[상태추정]]

선형 시스템에서 노이즈가 있는 관측으로부터 시스템 상태를 최적 추정하는 재귀적 필터입니다.

## 🎯 기본 개념

### 추정 문제
- **상태**: 시스템의 내부 상태 (위치, 속도 등)
- **관측**: 센서로 측정한 값 (노이즈 포함)
- **목표**: 관측으로부터 실제 상태를 추정

### 최적성
- **최소 평균 제곱 오차**: 추정 오차의 분산을 최소화
- **선형 추정기**: 선형 조합으로만 추정
- **재귀적**: 이전 추정값과 현재 관측값만 사용

## 🔄 칼만 필터 과정

### 1. 예측 단계 (Prediction)
```
상태 예측: x̂(k|k-1) = F·x̂(k-1|k-1) + B·u(k)
오차 공분산 예측: P(k|k-1) = F·P(k-1|k-1)·F^T + Q
```

### 2. 갱신 단계 (Update)
```
칼만 이득: K(k) = P(k|k-1)·H^T·[H·P(k|k-1)·H^T + R]^(-1)
상태 갱신: x̂(k|k) = x̂(k|k-1) + K(k)·[z(k) - H·x̂(k|k-1)]
오차 공분산 갱신: P(k|k) = [I - K(k)·H]·P(k|k-1)
```

## 📊 시스템 모델

### 상태 방정식
- **F**: 상태 전이 행렬
- **B**: 제어 입력 행렬
- **Q**: 프로세스 노이즈 공분산

### 관측 방정식
- **H**: 관측 행렬 (상태를 관측으로 변환)
- **R**: 관측 노이즈 공분산

## 🤖 로봇공학 응용

### 위치 추정
- **휠 오도메트리 + GPS**: 이동 로봇 위치 추정
- **IMU + 외부 센서**: 자세 추정

### 제어 시스템
- **상태 피드백 제어**: 추정된 상태로 제어
- **센서 융합**: 여러 센서 데이터 통합

### 구현 예시
- **GPS + IMU**: 위치와 속도 동시 추정
- **비전 + 오도메트리**: 시각적 위치 추정

## ⚠️ 한계점

### 선형성 가정
- **선형 시스템**: 비선형 시스템에는 직접 적용 불가
- **해결책**: [[확장칼만필터]]로 확장

### 가우시안 노이즈
- **정규분포 가정**: 노이즈가 정규분포를 따라야 함
- **대안**: [[파티클필터]] 등 비모수적 방법

## 🔗 연결 분야
- 상위: [[상태추정]]
- 확장: [[확장칼만필터]], [[파티클필터]]
- 응용: [[모바일 로봇]], [[SLAM]]
- 기초: [[선형대수]], [[확률론]]