# H∞ (H 무한대) 제어

## 1. 개요 및 배경

H∞ 제어는 1980년대부터 발전된 강인 제어(Robust Control) 이론의 핵심 방법론으로, 시스템의 불확실성과 외란에 대해 강인한 성능을 보장하는 제어기 설계 기법입니다. 이 방법은 주파수 영역에서 시스템의 성능을 H∞ 노름(norm)으로 정량화하고, 이를 최소화하는 제어기를 설계합니다.

### 1.1 역사적 배경

H∞ 제어 이론은 1981년 Zames가 제안한 개념에서 시작되어, Doyle, Glover, Khargonekar, Francis 등에 의해 상태공간 해법이 개발되었습니다. 특히 Zhou, Doyle, Glover의 "Robust and Optimal Control" (1996)은 이 분야의 가장 권위있는 텍스트북으로 인정받고 있습니다.

### 1.2 기본 개념

H∞ 제어의 핵심은 시스템의 전달함수 행렬의 H∞ 노름을 최소화하는 것입니다. H∞ 노름은 주파수 응답의 최대 특이값(maximum singular value)으로 정의되며, 이는 시스템의 최악의 경우 성능을 나타냅니다.

$$\|G(s)\|_{\infty} = \sup_{\omega} \bar{\sigma}(G(j\omega))$$

여기서 $\bar{\sigma}(\cdot)$는 최대 특이값을 의미합니다.

### 1.3 로봇 제어에서의 필요성

로봇 매니퓰레이터는 다음과 같은 불확실성을 가집니다:
- 매개변수 불확실성 (질량, 관성 모멘트, 길이 등)
- 비모델링 동역학 (마찰, 유연성, 기어 백래시 등)
- 외부 외란 (충격, 진동 등)
- 페이로드 변화

이러한 불확실성들로 인해 전통적인 제어 방법들의 성능이 저하될 수 있으며, H∞ 제어는 이러한 문제를 체계적으로 해결할 수 있는 강력한 도구입니다.

## 2. 수학적 기초

### 2.1 H∞ 노름과 성능 지표

H∞ 제어에서는 다음과 같은 일반화된 플랜트를 고려합니다:

```
    w ────► P(s) ────► z
            │
            ▼
    u ────► └─────► y
```

여기서:
- w: 외란 및 기준 신호
- u: 제어 입력
- z: 성능 출력
- y: 측정 출력

일반화된 플랜트 P(s)는 다음과 같이 분할됩니다:

$$P(s) = \begin{bmatrix} P_{11}(s) & P_{12}(s) \\ P_{21}(s) & P_{22}(s) \end{bmatrix}$$

### 2.2 표준 H∞ 문제

표준 H∞ 문제는 다음 조건을 만족하는 제어기 K(s)를 찾는 것입니다:

1. 폐루프 시스템이 내부적으로 안정
2. $\|T_{zw}(s)\|_{\infty} < \gamma$ (여기서 γ는 주어진 성능 수준)

폐루프 전달함수는 다음과 같습니다:

$$T_{zw}(s) = P_{11}(s) + P_{12}(s)K(s)(I - P_{22}(s)K(s))^{-1}P_{21}(s)$$

### 2.3 리카티 방정식 해법

Zhou, Doyle, Glover의 저작에 따르면, 표준 H∞ 문제의 해는 두 개의 대수 리카티 방정식(ARE)의 해로 표현됩니다.

**H∞ 제어 리카티 방정식 (HCARE):**
$$A^T X + X A + X(\gamma^{-2} B_1 B_1^T - B_2 B_2^T)X + C_1^T C_1 = 0$$

**H∞ 필터 리카티 방정식 (HFARE):**
$$A Y + Y A^T + Y(\gamma^{-2} C_1^T C_1 - C_2^T C_2)Y + B_1 B_1^T = 0$$

여기서 X ≥ 0, Y ≥ 0이고, 다음 조건들이 만족되어야 합니다:
- $(A, B_2)$가 안정화 가능
- $(C_2, A)$가 검출 가능
- $\rho(XY) < \gamma^2$ (스펙트럼 반지름 조건)

### 2.4 H∞ 제어기 공식

조건이 만족되면, H∞ 제어기는 다음과 같이 구성됩니다:

$$K(s) = \begin{bmatrix} A_K & B_K \\ C_K & D_K \end{bmatrix}$$

여기서:
- $A_K = A + \gamma^{-2} B_1 B_1^T X + B_2 F + Z L C_2$
- $B_K = -Z L$
- $C_K = F$
- $D_K = 0$

그리고:
- $F = -B_2^T X$
- $L = -Y C_2^T$
- $Z = (I - \gamma^{-2} Y X)^{-1}$

## 3. 로봇 제어 적용

### 3.1 로봇 동역학 모델링

n자유도 로봇 매니퓰레이터의 동역학은 다음과 같이 표현됩니다:

$$M(q)\ddot{q} + C(q,\dot{q})\dot{q} + G(q) = \tau + \tau_d$$

여기서:
- q: 관절 위치
- M(q): 관성 행렬
- C(q,q̇): 코리올리/원심력 행렬
- G(q): 중력 벡터
- τ: 제어 토크
- τd: 외란 토크

### 3.2 불확실성 모델링

로봇 시스템의 불확실성은 다음과 같이 모델링됩니다:

1. **매개변수 불확실성**: 
   - 명목 모델: $M_0(q), C_0(q,\dot{q}), G_0(q)$
   - 불확실성: $\Delta M(q), \Delta C(q,\dot{q}), \Delta G(q)$

2. **가법적 불확실성**: 
   $$M(q) = M_0(q) + \Delta M(q)$$

3. **승법적 불확실성**: 
   $$M(q) = M_0(q)(I + \Delta_M(q))$$

### 3.3 H∞ 제어기 설계 절차

1. **선형화**: 작동점 주변에서 로봇 동역학을 선형화
2. **일반화된 플랜트 구성**: 불확실성과 성능 요구사항을 포함한 확장 모델 구성
3. **가중함수 설계**: 성능 사양을 반영하는 주파수 가중함수 선택
4. **H∞ 제어기 합성**: 리카티 방정식 해법을 통한 제어기 계산

### 3.4 성능 가중함수

로봇 제어에서 일반적으로 사용되는 가중함수들:

- **추적 성능**: $W_e(s) = \frac{s/M + \omega_B}{s + \omega_B A}$
- **제어 노력**: $W_u(s) = \frac{s + \omega_{u1}/M_u}{s + \omega_{u1}}$
- **강인성**: $W_T(s) = \frac{s + \omega_T/M_T}{s + \omega_T}$

## 4. 장단점 분석

### 4.1 장점

1. **체계적인 강인성**: 불확실성에 대한 수학적으로 보장된 강인성
2. **MIMO 시스템 처리**: 다입력 다출력 시스템에 자연스럽게 적용
3. **주파수 영역 설계**: 직관적인 주파수 응답 기반 설계
4. **성능-강인성 균형**: 명시적인 성능과 강인성 사이의 트레이드오프
5. **체계적인 설계 절차**: 수학적으로 엄밀한 설계 방법론

### 4.2 단점

1. **보수적 설계**: 최악의 경우를 고려하여 과도하게 보수적일 수 있음
2. **고차 제어기**: 일반적으로 플랜트 차수의 2배 이상의 제어기 차수
3. **가중함수 선택**: 적절한 가중함수 선택이 어려움
4. **계산 복잡성**: 대규모 시스템에서 리카티 방정식 해법의 계산 부담
5. **비선형성 제한**: 선형 시스템에 직접 적용, 비선형 시스템은 별도 처리 필요

## 5. 최신 동향

### 5.1 비선형 H∞ 제어
Hamilton-Jacobi-Isaacs (HJI) 방정식을 기반으로 한 비선형 H∞ 제어가 개발되어 로봇의 비선형성을 직접 다룰 수 있게 되었습니다.

### 5.2 적응형 H∞ 제어
매개변수 불확실성에 대해 온라인으로 적응하는 H∞ 제어기가 연구되고 있습니다.

### 5.3 μ-synthesis
구조화된 불확실성을 다루기 위한 μ-synthesis 기법이 로봇 제어에 적용되고 있습니다.

## 6. 관련 텍스트북 및 참고문헌

### 주요 텍스트북
- **Zhou, K., Doyle, J. C., & Glover, K. (1996)**. "Robust and Optimal Control". Prentice Hall.
  - H∞ 제어의 가장 권위있는 텍스트북
  - 이론부터 응용까지 포괄적 다룸
  - 리카티 방정식 해법의 상세한 유도

### 보조 참고문헌
- Green, M., & Limebeer, D. J. N. (1995). "Linear Robust Control". Prentice Hall.
- Skogestad, S., & Postlethwaite, I. (2005). "Multivariable Feedback Control: Analysis and Design". Wiley.
- Francis, B. A. (1987). "A Course in H∞ Control Theory". Springer-Verlag.

이 문서는 Zhou, Doyle, Glover의 "Robust and Optimal Control"을 주요 참고문헌으로 하여 작성되었습니다.
