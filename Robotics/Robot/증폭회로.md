# 증폭회로

> 상위: [[전자회로설계]]

센서 신호의 크기를 증폭하여 ADC나 후단 회로에서 처리 가능한 레벨로 만드는 회로 설계입니다.

## 🔍 연산증폭기 기초

### Op-Amp 기본 특성
- **이상적 특성**: 무한대 이득, 무한대 입력 임피던스, 0 출력 임피던스
- **실제 특성**: 10^6 이득, 10^12Ω 입력 임피던스, 수십Ω 출력 임피던스
- **동작 원리**: 가상 단락(Virtual Short) - 반전/비반전 입력 전압 동일

### 기본 증폭 회로

#### 비반전 증폭기
```
이득(Av) = 1 + (R2/R1)

입력 임피던스: 매우 높음 (Op-Amp 자체 특성)
출력 임피던스: 매우 낮음
위상: 입력과 동상

실무 적용:
- 센서 신호 버퍼링
- 임피던스 매칭
- 일반적인 신호 증폭
```

#### 반전 증폭기  
```
이득(Av) = -(R2/R1)

입력 임피던스: R1
출력 임피던스: 매우 낮음
위상: 입력과 180도 반전

실무 적용:
- 신호 반전이 필요한 경우
- 가상 접지 효과로 오프셋 최소화
```

## 🔧 실무 설계 예시

### 로드셀 신호 증폭 (INA128 계측증폭기)
```
로드셀 출력: ±10mV (풀스케일)
목표 출력: ±3.3V
필요 이득: 330배

INA128 이득 공식: G = 1 + (50kΩ/Rg)
필요 Rg = 50kΩ/(330-1) = 152Ω

실제 사용: 150Ω 표준 저항
실제 이득: 1 + 50k/150 = 334배
```

### 압력센서 신호 조절
```
압력센서 출력: 0.5-4.5V (0-100psi)
ADC 입력 범위: 0-3.3V

감쇠기 설계:
R1 = 1.2kΩ (상단)
R2 = 3.3kΩ (하단)  
감쇠율 = 3.3/(1.2+3.3) = 0.73

출력 범위: 0.365-3.285V (ADC 범위에 맞음)
```

### 온도센서 신호 증폭 (써모커플)
```
K-type 써모커플: 41μV/°C
측정 범위: 0-1000°C → 0-41mV
ADC 목표: 0-3.3V
필요 이득: 3300mV/41mV = 80.5배

비반전 증폭기 설계:
R1 = 1kΩ
R2 = 79.5kΩ (80kΩ 표준값)
실제 이득: 1 + 80k/1k = 81배
```

## 🎯 Op-Amp 선택 가이드

### 범용 Op-Amp
- **LM358**: 싱글 공급, 저가, 저정밀도 (오프셋 3mV)
- **LM324**: LM358의 4채널 버전
- **TL072**: JFET 입력, 낮은 입력 바이어스 전류

### 정밀 Op-Amp
- **OPA2277**: 초저 오프셋 (10μV), 고정밀도 측정용
- **AD8628**: 자동 제로 Op-Amp, 드리프트 최소
- **LTC1050**: chopper 방식, 극저 오프셋

### 고속 Op-Amp
- **LM6171**: 100MHz 대역폭, 고속 신호 처리
- **AD8099**: 초고속 (GBW 270MHz), 영상/RF 신호
- **THS4031**: 초고속 (100MHz), 구동 능력 우수

## ⚡ 안정성 설계

### 위상 보상
```
주파수 보상 (Frequency Compensation):
- C1: 고주파 롤오프용 (10-100pF)
- R3: 안정성 확보용 (100Ω)

Miller 효과 대책:
- 피드백 루프 최소화
- PCB 레이아웃 주의
```

### 전원 디커플링
```
Op-Amp 전원 핀:
- VCC+: 100nF + 10μF 디커플링
- VCC-: 100nF + 10μF 디커플링
- 고속 Op-Amp: 추가로 1nF 세라믹

배치:
- 100nF: Op-Amp 전원핀 최대한 가까이 (<5mm)
- 10μF: 로컬 영역 내 배치
```

### 입력 보호
```
ESD 보호:
- 입력단: BAV99 다이오드 클램프
- 전원 범위로 제한: VCC+0.7V, VCC-0.7V

과전압 보호:
- 입력 저항: 10kΩ (전류 제한)
- 제너 다이오드: 3.3V 타입
```

## 📐 PCB 레이아웃 가이드

### 신호 무결성
```
배선 원칙:
- 입력 신호: 최단 거리, 차폐 필요시 그라운드 가드
- 피드백 경로: 직접적, 기생 용량 최소화
- 출력 신호: 적절한 구동 능력 확보

그라운드 설계:
- 아날로그 그라운드 분리
- 스타 그라운드 포인트 사용
- 전원 그라운드와 신호 그라운드 구분
```

### 열 관리
```
고전력 Op-Amp:
- 써멀 패드 활용
- 적절한 공기 흐름 확보
- 발열 소자와 거리 유지

온도 드리프트 최소화:
- 온도 계수 매칭된 저항 사용
- 금속막 저항 선호 (±50ppm/°C)
- 정밀 측정시 온도 보상 회로 고려
```

## 🔗 관련 문서
- 상위: [[전자회로설계]]
- 관련: [[신호조절]], [[센서인터페이스]]
- 이론: [[필터회로]], [[ADC]]
- 응용: [[상태추정]], [[환경인식]]

---

*Op-Amp 데이터시트와 Application Note를 참고하여 구체적인 설계값을 확인하시기 바랍니다.*