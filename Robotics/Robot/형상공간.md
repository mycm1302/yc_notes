# 형상공간

> 상위: [[로봇구조]]

로봇의 모든 가능한 형상(자세)을 수학적으로 표현하는 공간입니다.

## 📐 기본 개념

### 정의
형상공간(Configuration Space 또는 C-space)은 로봇의 모든 가능한 형상(configuration)을 하나의 점으로 나타내는 추상적인 수학 공간입니다 [1].

**핵심 특징:**
- 각 점은 로봇의 하나의 형상을 나타냄
- 차원 = 로봇의 자유도 수
- 기구학적 제약 조건 반영

## 🎯 수학적 표현

### n자유도 로봇
```
q = [q₁, q₂, ..., qₙ]ᵀ ∈ ℂ
```

여기서:
- q: 형상 벡터 (관절 변수)
- ℂ: 형상공간
- n: 자유도 수

### 관절 공간과의 관계
- **관절 공간**: 물리적 관절 변수들의 집합
- **형상공간**: 기하학적 제약 조건이 반영된 공간
- 일반적으로 형상공간 ⊆ 관절 공간

## 🔄 작업공간과의 관계

### 형상공간 → 작업공간
```
x = f(q)
```

여기서:
- f: 순기구학 함수
- x: 작업공간 좌표 (위치/자세)
- q: 형상공간 좌표 (관절 변수)

### 차원 관계
- **형상공간 차원**: 로봇의 자유도
- **작업공간 차원**: 일반적으로 6 (3D 위치 + 3D 자세)
- n > 6일 때: 여유 자유도 존재
- n < 6일 때: 제한된 작업 능력

## 🚧 제약 조건

### 관절 한계
```
qᵢ,min ≤ qᵢ ≤ qᵢ,max
```

### 기구학적 제약
- **홀로노믹 제약**: φ(q) = 0
- **비홀로노믹 제약**: A(q)q̇ = 0

### 충돌 회피 제약
- **자체 충돌**: 링크 간 충돌
- **환경 충돌**: 장애물과의 충돌

## 📊 실제 예시

### 2자유도 평면 로봇
```
형상공간: ℂ = [0, 2π] × [0, 2π]
관절 변수: q = [θ₁, θ₂]ᵀ
차원: 2
```

### 6자유도 산업용 로봇
```
형상공간: ℂ = [θ₁,min, θ₁,max] × ... × [θ₆,min, θ₆,max]
관절 변수: q = [θ₁, θ₂, θ₃, θ₄, θ₅, θ₆]ᵀ
차원: 6
```

### 이동 로봇
```
형상공간: ℂ = ℝ² × [0, 2π]
위치 변수: q = [x, y, θ]ᵀ
차원: 3 (위치 2 + 자세 1)
```

## 🎯 응용 분야

### 경로 계획
- 형상공간에서 경로 탐색
- 충돌 없는 경로 생성
- 최적 경로 계산

### 특이점 분석
- 특이 형상 식별
- 조작도 분석
- 제어 성능 평가

### 작업공간 분석
- 도달 가능 영역 계산
- 작업 성능 평가
- 로봇 설계 최적화

## 🔗 관련 개념

### 위상학적 성질
- **연결성**: 한 형상에서 다른 형상으로의 연속 경로
- **경계**: 관절 한계와 특이점
- **홀**: 회전 관절로 인한 주기적 구조

### 미분기하학
- **접촉 공간**: 속도 제약
- **여접촉 공간**: 힘 제약
- **리만 다양체**: 거리 측정

## 🎯 학습 연결

- **상위**: [[로봇구조]] - 구조적 기초
- **관련**: [[위치기구학#작업공간|작업공간]] - 공간 변환
- **하위**: [[메커니즘#자유도와 구속조건|자유도]] - 차원 결정

---

## 📚 참고문헌

[1] Spong, M.W., Hutchinson, S., & Vidyasagar, M. (2020). *Robot Modeling and Control*. 2nd Edition, Wiley.
- Chapter 2: Kinematics, Configuration Space

[2] Craig, J.J. (2017). *Introduction to Robotics: Mechanics and Control*. 4th Edition, Pearson.
- Chapter 2: Spatial Descriptions and Transformations

---

## 태그
#형상공간 #관절공간 #자유도 #제약조건